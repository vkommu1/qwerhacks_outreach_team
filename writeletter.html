<!DOCTYPE html>
<html>
<head>
    <link rel="stylesheet" type="text/css" href="writeletter.css">
    <script src="https://code.jquery.com/jquery-1.10.2.js"></script>
</head>
<body class="whole-body">
    <div id="nav-placeholder"></div>
    <script>
        $(function () {
            $("#nav-placeholder").load("directory.html");
        })
    </script>

    <div class="contents">
        <br>
        <p class="opener">Send an Email to your Governor...</p>
        <div class="image-container">
            <img src="images/mail.png" alt="Envelope Image" class="envelope-img">
            </div>
            <div class="input-boxes">
                <div class="scriptQues">
                    <div class="dropdown">
                        <button id="templateDropdownBtn" class="dropbtn">Proposition #</button>
                        <div class="dropdown-content">
                            <a href="#" id="templateOption1">Proposition 1</a>
                            <a href="#" id="templateOption2">Proposition 2</a>
                            <a href="#" id="templateOption3">Proposition 3</a>
                            <a href="#" id="templateOption4">Proposition 4</a>
                            <a href="#" id="templateOption5">Proposition 5</a>
                            <a href="#" id="templateOption6">Proposition 6</a>
                        </div>
                    </div>
                    <div class="personalInfo">
                        <div class="scriptItem">
                            <label for="yourName">First Name: </label>
                            <input type="text" id="name">
                        </div>

                        <div class="scriptItem">
                            <label for="yourGovName">Representative: </label>
                            <input type="text" id="govName">
                        </div>

                        <div class="scriptItem">
                            <label for="yourLearning">Your opinion on the topic: </label>
                            <br />
                            <input type="text" id="learning">
                        </div>
                        <button class="scriptButton" id="scriptBtn">Generate Script</button>

                        <p id="scriptReturned"></p>
                    
                </div>
            </div>
        </div>
    </div>
    <div class="script-return">
        <script>
            var displayScript = document.getElementById("scriptReturned");
            var scriptBtn = document.getElementById("scriptBtn");
            var templateDropdownBtn = document.getElementById("templateDropdownBtn");
            var dropdownContent = document.querySelector(".dropdown-content");
        
            if (scriptBtn) {
                scriptBtn.addEventListener("click", generateScript);
            }
        
            // Function to generate scripts based on the selected template
            function generateScript() {
                var name = document.getElementById("name").value;
                var govName = document.getElementById("govName").value;
                var learning = document.getElementById("learning").value;
                var selectedTemplate = templateDropdownBtn.textContent;
        
                // Create an object to map templates to script content
                var scriptTemplates = {
                    "Proposition 1": "Dear " + govName + " I hope this letter finds you well. I am writing to express my concerns and opinions regarding Proposition 1, which is currently under consideration. As a concerned citizen of California, I believe it is crucial to call attention to the potential impacts of this proposition on our community. The major points of my interest in this measure include I understand that as a representative, you are faced with numerous challenges and decisions. However, I believe that the outcomes of Proposition 1 need careful consideration to ensure the well-being of our state and its residents. I appreciate your dedication to serving the people of California and trust that you will make decisions in the best interest of our state. Thank you for your time and attention to this matter. Sincerely, " + name,
                    "Proposition 2": "Dear " + govName + " I hope this letter finds you well. I am writing to express my concerns and opinions regarding Proposition 2, which is currently under consideration. As a concerned citizen of California, I believe it is crucial to call attention to the potential impacts of this proposition on our community. The major points of my interest in this measure include I understand that as a representative, you are faced with numerous challenges and decisions. However, I believe that the outcomes of Proposition 2 need careful consideration to ensure the well-being of our state and its residents. I appreciate your dedication to serving the people of California and trust that you will make decisions in the best interest of our state. Thank you for your time and attention to this matter. Sincerely, " + name,
                    "Proposition 3": "Dear " + govName + " I hope this letter finds you well. I am writing to express my concerns and opinions regarding Proposition 3, which is currently under consideration. As a concerned citizen of California, I believe it is crucial to call attention to the potential impacts of this proposition on our community. The major points of my interest in this measure include I understand that as a representative, you are faced with numerous challenges and decisions. However, I believe that the outcomes of Proposition 3 need careful consideration to ensure the well-being of our state and its residents. I appreciate your dedication to serving the people of California and trust that you will make decisions in the best interest of our state. Thank you for your time and attention to this matter. Sincerely, " + name,
                    "Proposition 4": "Dear " + govName + " I hope this letter finds you well. I am writing to express my concerns and opinions regarding Proposition 4, which is currently under consideration. As a concerned citizen of California, I believe it is crucial to call attention to the potential impacts of this proposition on our community. The major points of my interest in this measure include I understand that as a representative, you are faced with numerous challenges and decisions. However, I believe that the outcomes of Proposition 4 need careful consideration to ensure the well-being of our state and its residents. I appreciate your dedication to serving the people of California and trust that you will make decisions in the best interest of our state. Thank you for your time and attention to this matter. Sincerely, " + name,
                    "Proposition 5": "Dear " + govName + " I hope this letter finds you well. I am writing to express my concerns and opinions regarding Proposition 5, which is currently under consideration. As a concerned citizen of California, I believe it is crucial to call attention to the potential impacts of this proposition on our community. The major points of my interest in this measure include I understand that as a representative, you are faced with numerous challenges and decisions. However, I believe that the outcomes of Proposition 5 need careful consideration to ensure the well-being of our state and its residents. I appreciate your dedication to serving the people of California and trust that you will make decisions in the best interest of our state. Thank you for your time and attention to this matter. Sincerely, " + name,
                    "Proposition 6": "Dear " + govName + " I hope this letter finds you well. I am writing to express my concerns and opinions regarding Proposition 6, which is currently under consideration. As a concerned citizen of California, I believe it is crucial to call attention to the potential impacts of this proposition on our community. The major points of my interest in this measure include I understand that as a representative, you are faced with numerous challenges and decisions. However, I believe that the outcomes of Proposition 6 need careful consideration to ensure the well-being of our state and its residents. I appreciate your dedication to serving the people of California and trust that you will make decisions in the best interest of our state. Thank you for your time and attention to this matter. Sincerely, " + name,
                };
        
                // Display the generated script based on the selected template
                if (selectedTemplate in scriptTemplates) {
                    displayScript.textContent = scriptTemplates[selectedTemplate];
                    const generatedScript = scriptTemplates[selectedTemplate];
                    const generatedSubject = selectedTemplate;
                    const mailtoWhere = `mailto:?subject=${encodeURIComponent(generatedSubject)} Opinion &body=${encodeURIComponent(generatedScript)}`;
        
                    window.location.href = mailtoWhere;
        
                } else {
                    displayScript.textContent = "Selected template not found.";
                }
            }
        
            // Add event listener to toggle the dropdown content
            templateDropdownBtn.addEventListener("click", function () {
                if (dropdownContent.style.display === "block") {
                     // Add event listeners to dynamically change the selected template
            var templateOption1 = document.getElementById("templateOption1");
            var templateOption2 = document.getElementById("templateOption2");
            var templateOption3 = document.getElementById("templateOption3");
            var templateOption4 = document.getElementById("templateOption4");
            var templateOption5 = document.getElementById("templateOption5");
            var templateOption6 = document.getElementById("templateOption6");

            templateOption1.addEventListener("click", function () {
                templateDropdownBtn.textContent = "Proposition 1";
            });

            templateOption2.addEventListener("click", function () {
                templateDropdownBtn.textContent = "Proposition 2";
            });

            templateOption3.addEventListener("click", function () {
                templateDropdownBtn.textContent = "Proposition 3";
            });

            templateOption4.addEventListener("click", function () {
                templateDropdownBtn.textContent = "Proposition 4";
            });

            templateOption5.addEventListener("click", function () {
                templateDropdownBtn.textContent = "Proposition 5";
            });

            templateOption6.addEventListener("click", function () {
                templateDropdownBtn.textContent = "Proposition 6";
            });

                } else {
                    dropdownContent.style.display = "block";
                     // Add event listeners to dynamically change the selected template
            var templateOption1 = document.getElementById("templateOption1");
            var templateOption2 = document.getElementById("templateOption2");
            var templateOption3 = document.getElementById("templateOption3");
            var templateOption4 = document.getElementById("templateOption4");
            var templateOption5 = document.getElementById("templateOption5");
            var templateOption6 = document.getElementById("templateOption6");

            templateOption1.addEventListener("click", function () {
                templateDropdownBtn.textContent = "Proposition 1";
            });

            templateOption2.addEventListener("click", function () {
                templateDropdownBtn.textContent = "Proposition 2";
            });

            templateOption3.addEventListener("click", function () {
                templateDropdownBtn.textContent = "Proposition 3";
            });

            templateOption4.addEventListener("click", function () {
                templateDropdownBtn.textContent = "Proposition 4";
            });

            templateOption5.addEventListener("click", function () {
                templateDropdownBtn.textContent = "Proposition 5";
            });

            templateOption6.addEventListener("click", function () {
                templateDropdownBtn.textContent = "Proposition 6";
            });

                }
            });
        </script>
        
    </div>
</body

